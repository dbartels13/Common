<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sphyrnidae Common Library: SignalR</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="header.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sphyrnidae Common Library
   &#160;<span id="projectnumber">2.0.1</span>
   </div>
   <div id="projectbrief">Shared Utilities/Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_signal_r_md.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">SignalR </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_C__Users_dougb_Desktop_Sphyrnidae_New_Common_Common_SignalR_SignalR"></a> </p>
<h1><a class="anchor" id="SignalROverviewMd"></a>
Overview</h1>
<p>SignalR is a messaging service which allows for things to be sent to/from clients/servers (or client-to-client or server-to-server). A message will be generated by either a client/server, and will be sent (using one of the Send() methods). This will then establish a connection to the SignalR server and send the message asynchronously. Awaiting the response of the Send() method does not actually await the completion of the event - but rather that a connection was established and the message should be sent.</p>
<p>The SignalR server will then process the request and will send a message to any subscribers of the message. If the subscriber is a server, the Receive() method will be executed. By default, all Send() methods will attempt to ensure that communication is established with the SignalR server. Automatic reconnect is enabled on the connection to help ensure that no messages are ever missed. The reconnect timeout logic is to attempt 20 times, each time waiting 1 second longer (eg. 1s, 2s, 3s, 4s, etc). Any failures will be logged.</p>
<p>Interface: <a class="el" href="interface_sphyrnidae_1_1_common_1_1_signal_r_1_1_i_signal_r.html">ISignalR</a></p>
<p>Mock: <a class="el" href="class_sphyrnidae_1_1_common_1_1_signal_r_1_1_signal_r_mock.html">SignalRMock</a></p>
<p>Implementation: <a class="el" href="class_sphyrnidae_1_1_common_1_1_signal_r_1_1_signal_r.html">SignalR</a></p>
<p>Static Wrapper: <a class="el" href="class_sphyrnidae_1_1_common_1_1_signal_r_1_1_signal_r_hub.html">SignalRHub</a></p>
<h1><a class="anchor" id="SignalRSetupMd"></a>
Setup</h1>
<ol type="1">
<li>Build and deploy a SignalR Server/Hub</li>
<li>Configure the <a class="el" href="class_sphyrnidae_1_1_common_1_1_api_1_1_service_registration_1_1_models_1_1_service_configuration.html#a659cc4306cd07e8bca02dffb51b68d1b">logger</a> - see <a class="el" href="_api_md.html">Api</a></li>
<li>Configure any Receive endpoints in your Configure() method (startup.cs)</li>
<li>Send any messages in your application by using the Send() methods</li>
</ol>
<h1><a class="anchor" id="SignalRWhereUsedMd"></a>
Where Used</h1>
<ol type="1">
<li><a class="el" href="class_sphyrnidae_1_1_common_1_1_api_1_1_service_registration_1_1_models_1_1_service_configuration.html#a64bf3427272da07997dfa0cfb5acaf37">SignalRCacheInvalidation</a>: Using the SignalR server with <a class="el" href="_environment_md.html">environmental setting</a> "URL:Hub:Cache", a received message will invoke IMemoryCache.Remove(key)</li>
<li><a class="el" href="class_sphyrnidae_1_1_common_1_1_cache_1_1_cache_local_and_distributed.html">CacheLocalAndDistributed</a> and <a class="el" href="class_sphyrnidae_1_1_common_1_1_cache_1_1_cache_distributed.html">CacheDistributed</a> will both send this message on distributed cache removal of an item.</li>
</ol>
<h1><a class="anchor" id="SignalRExampleMd"></a>
Examples</h1>
<pre>
    // Setup Receive Method (Configure() method in Startup.cs)
    ISignalR signalR; // Should be injected
    IUser user; // Should be injected
    SignalRHub.Receive&lt;User&gt;(signalR, "http://signalR.mySite.com/user", "New User Added", user.NewUserAdded);

    // Send message (elsewhere in another application)
    ISignalR signalR; // Should be injected
    var user = new User();
    SignalRHub.Send(signalR, "http://signalR.mySite.com/user", "NewUser", user);
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
