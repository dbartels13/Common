<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sphyrnidae Common Library: Request Data</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="header.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sphyrnidae Common Library
   &#160;<span id="projectnumber">2.0.1</span>
   </div>
   <div id="projectbrief">Shared Utilities/Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_request_data_md.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Request Data </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_C__Users_dougb_Desktop_Sphyrnidae_New_Common_Common_RequestData_RequestData"></a> </p>
<h1><a class="anchor" id="RequestDataOverviewMd"></a>
Overview</h1>
<p>The <a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html">IRequestData</a> interface provides a number of methods for accessing HttpRequest data. The <a class="el" href="class_sphyrnidae_1_1_common_1_1_request_data_1_1_request_data.html">implementation</a> is registered as request-scoped, and pulls everything it needs from <a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_data_1_1_i_http_data.html">IHttpData</a>. Because of this dependency, many of these methods are not thread-safe (eg. will cause exceptions if the main thread has returned and the context has been disposed). Note that all of these properties do directly access the HttpRequest object, which does not account for these values being passed along in headers (see <a class="el" href="_http_client_md.html">Http Client</a>).</p>
<p>Interface: <a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html">IRequestData</a></p>
<p>Mock: <a class="el" href="class_sphyrnidae_1_1_common_1_1_request_data_1_1_request_data_mock.html">RequestDataMock</a></p>
<p>Implementation: <a class="el" href="class_sphyrnidae_1_1_common_1_1_request_data_1_1_request_data.html">RequestData</a></p>
<table class="doxtable">
<tr>
<th>Property </th><th>Description </th><th>Implementation </th></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html#ac45c373cf3a572c002d890006fc8ef02">Id</a> </td><td>Gets the unique ID for the request (Typically called a CorrelationId) </td><td>Guid.NewGuid() </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html#a277b461a9f971b1a85cd65bb31ac236e">LoggingOrder</a> </td><td>Order of things being logged </td><td>(char)33 - will be incremented every time logging occurs </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html#a16bdc821b949e4e8aafbaa175870e0be">IpAddress</a> </td><td>Ip Address of the end user/client </td><td>None - just a place to set/get this property </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html#a3b4f6cc66d564ce55f0566ff14ccadb0">RemoteIpAddress</a> </td><td>IP Address of the machine making this request (may not be the original) </td><td><a class="el" href="class_sphyrnidae_1_1_common_1_1_extensions_1_1_http_context_extensions.html">IpAddress</a> </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html#a96bf0110ececfe76178572e78ad21c4a">DisplayUrl</a> </td><td>The base URL of the request </td><td>HttpRequest.GetDisplayUrl() </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html#a480415ca543e82eeb72606c11eb4b761">Route</a> </td><td>Route of an API Request </td><td>Route template for a controller action </td></tr>
<tr>
<td>ContentData() </td><td>The raw content data of the request </td><td><a class="el" href="class_sphyrnidae_1_1_common_1_1_extensions_1_1_http_request_extensions.html">GetBodyAsync</a> </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html#a0c366c410e319860be5b08a4d1665650">HttpVerb</a> </td><td>The Http Verb for the request </td><td>HttpRequest.Method </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html#a4bb7eea15abe3008c2afb438bfc450a1">Headers</a> </td><td>Collection of Http Headers </td><td>HttpRequest.Headers.ToNameValueCollection() </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html#a63fa0d61cdc373ef2ea1e5233f3eeede">QueryString</a> </td><td>Collection of QueryString variables </td><td>HttpRequest.Query </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html#ae292a1e9316c8c3d5c455fbfcb3da270">FormData</a> </td><td>Collection of Form variables </td><td>HttpRequest.Form </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html#abc0088a658f7b0c7642da44f6cab9ece">Browser</a> </td><td>Name/Description of the client browser </td><td>HttpRequest.Headers["User-Agent"] </td></tr>
<tr>
<td>T GetEndpointObject&lt;T&gt;() </td><td>Retrieves some object about the actual endpoint </td><td>HttpContext.Features.Get&lt;IEndpointFeature&gt;().Endpoint.Metadata - locate T within collection </td></tr>
<tr>
<td>GetHeader() </td><td>Retrieves an HTTP Header from the request </td><td><a class="el" href="class_sphyrnidae_1_1_common_1_1_extensions_1_1_http_request_extensions.html">GetHeader</a> </td></tr>
<tr>
<td>GetHeaders() </td><td>The collection of HTTP Headers with the given name </td><td>HttpRequest.Headers[name] ?? default </td></tr>
</table>
<h1><a class="anchor" id="RequestDataWhereUsedMd"></a>
Where Used</h1>
<ol type="1">
<li><a class="el" href="class_sphyrnidae_1_1_common_1_1_api_1_1_middleware_1_1_authentication_middleware.html">AuthenticationMiddleware</a>: Retrieving authentication headers and the <a class="el" href="class_sphyrnidae_1_1_common_1_1_api_1_1_attributes_1_1_authentication_attribute.html">AuthenticationAttribute</a></li>
<li><a class="el" href="class_sphyrnidae_1_1_common_1_1_api_1_1_middleware_1_1_http_data_middleware.html">HttpDataMiddleware</a>: Retrieval of <a class="el" href="class_sphyrnidae_1_1_common_1_1_api_1_1_attributes_1_1_skip_log_attribute.html">SkipLogAttribute</a></li>
<li><a class="el" href="class_sphyrnidae_1_1_common_1_1_http_client_1_1_http_client_settings.html">HttpClientSettings</a>: The implementation of <a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html">IHttpClientSettings</a> will check against provided values in the HTTP headers, or against the request object</li>
<li><a class="el" href="class_sphyrnidae_1_1_common_1_1_logging_1_1_information_1_1_api_information.html">ApiInformation</a> (see <a class="el" href="_logging_md.html#LoggingInformationMd">Logging</a>): Obtains a number of items to be logged</li>
<li><a class="el" href="class_sphyrnidae_1_1_common_1_1_logging_1_1_logger_information.html">LoggerInformation</a> (see <a class="el" href="_logging_md.html#LoggingInformationMd">Logging</a>): Also gets a number of things to be logged, and also updates <a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html#a277b461a9f971b1a85cd65bb31ac236e">LoggingOrder</a></li>
</ol>
<h1><a class="anchor" id="RequestDataExampleMd"></a>
Examples</h1>
<p>Compare this to <a class="el" href="_http_data_md.html#HttpDataExampleMd">Http Data</a> </p><pre>
    IRequestData request; // Should be injected
    var httpVerb = request.HttpVerb;
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
