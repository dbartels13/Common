<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sphyrnidae Common Library: Http Client</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="header.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sphyrnidae Common Library
   &#160;<span id="projectnumber">2.0.1</span>
   </div>
   <div id="projectbrief">Shared Utilities/Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_http_client_md.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Http Client </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_C__Users_dougb_Desktop_Sphyrnidae_New_Common_Common_HttpClient_HttpClient"></a> </p>
<h1><a class="anchor" id="HttpClientOverviewMd"></a>
Overview</h1>
<p>The <a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html">IHttpClientSettings</a> is meant to abstract out communication with an HTTP Request. This interface basically works by allowing other abstractions to retrieve data from the HTTP Request via this abstraction. If you'd like to change the location of information in a HTTP Request, you can do so by updating this class. Most of the properties on this interface are the name of an HTTP Header, and a Get property to retrieve information from that property. Other components will use this interface to set these values in outgoing HTTP Responses.</p>
<p>The <a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html">IHttpClientSettings</a> interface has the following properties. The table below shows all properties, and what the <a class="el" href="class_sphyrnidae_1_1_common_1_1_http_client_1_1_http_client_settings.html">default implementation</a> does to implement. </p><table class="doxtable">
<tr>
<th>Property </th><th>Default Implementation </th><th>Where used </th></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a4445539124a75289bec83e5ee3d5f885">ContentType</a> </td><td>MediaTypeNames.Application.Json </td><td>None - this has been moved to <a class="el" href="class_sphyrnidae_1_1_common_1_1_api_1_1_service_registration_1_1_models_1_1_service_configuration.html">ServiceConfiguration</a> which is defaulted to JSON responses. </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a35a499933e297cd1de730dab35902bdb">JwtHeader</a> </td><td>"Authorization" </td><td><a class="el" href="class_sphyrnidae_1_1_common_1_1_api_1_1_middleware_1_1_jwt_middleware.html">JwtMiddleware</a>: Sets the refreshed JWT into this header <br  />
<a class="el" href="_logging_md.html">Api Logging</a>: When logging the API request headers, this header will always be obfuscated <br  />
<a class="el" href="class_sphyrnidae_1_1_common_1_1_web_services_1_1_web_service_base.html">WebServiceBase</a>: Sets the JWT into this header for the outgoing HTTP Request </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a6589af8bc1fc95934bed53a1f8008af8">Jwt</a> </td><td><ol type="1">
<li>Reads from <a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a35a499933e297cd1de730dab35902bdb">JwtHeader</a></li>
<li>Reads from Querystring "access_token"</li>
<li>Removes "bearer" (with or without spaces) </li>
</ol>
</td><td>IdentityHelper: Obtains this JWT to convert to Identity </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a2370d74ce1563eff10c8ca9b8f21ad29">RequestIdHeader</a> </td><td>"V-Correlation-Id" </td><td><a class="el" href="class_sphyrnidae_1_1_common_1_1_web_services_1_1_web_service_base.html">WebServiceBase</a>: Where the requestId goes in the header for the outgoing HTTP Request </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a7803f129218d563cbe67f1541a0dbf49">RequestId</a> </td><td><ol type="1">
<li>Reads from <a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a2370d74ce1563eff10c8ca9b8f21ad29">RequestIdHeader</a></li>
<li>Obtains this from <a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html#ac45c373cf3a572c002d890006fc8ef02">Request Data</a> </li>
</ol>
</td><td><a class="el" href="_logging_md.html">Logging</a>: This value is always logged <br  />
<a class="el" href="class_sphyrnidae_1_1_common_1_1_web_services_1_1_web_service_base.html">WebServiceBase</a>: Retrieves this to forward into outgoing HTTP Request </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a7f8bd8ea89efc1cc5c54c4a0c6888d7f">SessionIdHeader</a> </td><td>"X-Tracking-Id" </td><td><a class="el" href="class_sphyrnidae_1_1_common_1_1_web_services_1_1_web_service_base.html">WebServiceBase</a>: Where the sessionId goes in the header for the outgoing HTTP Request </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a9623d61e1b857e838fc06ac93cdfbf9f">SessionId</a> </td><td>Reads from <a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a7f8bd8ea89efc1cc5c54c4a0c6888d7f">SessionIdHeader</a> </td><td><a class="el" href="_logging_md.html">Logging</a>: This value is always logged <br  />
<a class="el" href="class_sphyrnidae_1_1_common_1_1_web_services_1_1_web_service_base.html">WebServiceBase</a>: Retrieves this to forward into outgoing HTTP Request </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a76ddb2f04343d1761fc4314bc71a7e76">IpAddressHeader</a> </td><td>"X-Forwarded-For" </td><td><a class="el" href="class_sphyrnidae_1_1_common_1_1_web_services_1_1_web_service_base.html">WebServiceBase</a>: Where the IP Address goes in the header for the outgoing HTTP Request </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#ac560818f631e2b2dfa113ffb3771b5ec">IpAddress</a> </td><td><ol type="1">
<li>Pulls from <a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html#a16bdc821b949e4e8aafbaa175870e0be">Request Data (IpAddress)</a></li>
<li>Reads from <a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a76ddb2f04343d1761fc4314bc71a7e76">IpAddressHeader</a></li>
<li>Pulls from <a class="el" href="interface_sphyrnidae_1_1_common_1_1_request_data_1_1_i_request_data.html#a3b4f6cc66d564ce55f0566ff14ccadb0">Request Data (RemoteIpAddress)</a></li>
<li>"unknown"</li>
<li>For whatever value is pulled back, this will be "cleaned": Localhost check, strips out the domain </li>
</ol>
</td><td><a class="el" href="class_sphyrnidae_1_1_common_1_1_web_services_1_1_web_service_base.html">WebServiceBase</a>: Retrieves this to forward into outgoing HTTP Request </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a45621b97b4620004cc06f199dcd52c46">LogOrderHeader</a> </td><td>"X-Logging-Order" </td><td><a class="el" href="_logging_md.html">Logging</a>: This value is always logged. The logger will also be responsible for placing the LogOrder into this header for web service requests </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#aca0b62c91a72f7dd5ea59566a957d68a">LogOrder</a> </td><td>Reads from <a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a45621b97b4620004cc06f199dcd52c46">LogOrderHeader</a> </td><td><a class="el" href="_logging_md.html">Logging</a>: The existing value will be the prefix to the new value set into the header of outgoing HTTP requests. This value is also always logged. </td></tr>
<tr>
<td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a7ba20334c133a5ba43950f52325beeea">BearerAndLocalhostComparison</a> </td><td>StringComparison.CurrentCultureIgnoreCase </td><td><a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#a6589af8bc1fc95934bed53a1f8008af8">Jwt</a>: To strip out "bearer" <br  />
<a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html#ac560818f631e2b2dfa113ffb3771b5ec">IpAddress</a>: To check for "localhost" </td></tr>
</table>
<p>Interface: <a class="el" href="interface_sphyrnidae_1_1_common_1_1_http_client_1_1_i_http_client_settings.html">IHttpClientSettings</a></p>
<p>Mock: <a class="el" href="class_sphyrnidae_1_1_common_1_1_http_client_1_1_http_client_settings_mock.html">HttpClientSettingsMock</a></p>
<p>Implementation: <a class="el" href="class_sphyrnidae_1_1_common_1_1_http_client_1_1_http_client_settings.html">HttpClientSettings</a></p>
<h1><a class="anchor" id="HttpClientExampleMd"></a>
Examples</h1>
<pre>
    IHttpClient http; // Should be injected
    var ipAddress = http.IpAddress;

    HttpHeaders headers; // Should be retrieved from the new HttpRequest object
    headers.Add(http.RequestIdHeader, http.RequestId);
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
